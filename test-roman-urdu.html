<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Roman Urdu Conversion</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        #translate-button-mount {
            margin-bottom: 20px;
        }
        .content {
            line-height: 1.6;
        }
        h1, h2 {
            color: #333;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .test-input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
        }
        .test-output {
            background-color: #f5f5f5;
            padding: 10px;
            margin: 10px 0;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <h1>Test Roman Urdu Conversion</h1>

    <div class="test-section">
        <h3>Manual Test</h3>
        <p>This page will test the Roman Urdu conversion functionality. Click the button below to test translation to Roman Urdu.</p>
    </div>

    <div id="translate-button-mount"></div>

    <div class="content">
        <h1>Physical AI and Humanoid Robotics Book</h1>
        <p>This is a comprehensive guide to Physical AI and Humanoid Robotics. The book covers advanced topics in artificial intelligence, robotics, and human-computer interaction.</p>

        <h2>Chapter 1: Introduction to Physical AI</h2>
        <p>Physical AI represents a paradigm shift in artificial intelligence research. It emphasizes the importance of physical embodiment in creating truly intelligent systems. Unlike traditional AI systems that operate purely in digital spaces, Physical AI systems interact with the real world through sensors and actuators.</p>

        <h2>Chapter 2: Humanoid Robotics Fundamentals</h2>
        <p>Humanoid robots are robots with human-like features and capabilities. They are designed to interact with humans and operate in human environments. These robots often have legs, arms, and a head, and may have a face with human-like features.</p>

        <h2>Chapter 3: Applications of Physical AI</h2>
        <p>The applications of Physical AI are vast and varied. From healthcare and education to manufacturing and entertainment, Physical AI systems are transforming industries and creating new possibilities for human-robot collaboration.</p>

        <p>Physical AI systems demonstrate the potential for more natural and intuitive human-robot interaction. By combining advanced AI algorithms with physical embodiment, these systems can better understand and respond to the complexities of the real world.</p>
    </div>

    <div class="test-section">
        <h3>Direct Conversion Test</h3>
        <textarea id="urdu-input" class="test-input" rows="3" placeholder="Enter Urdu text to convert to Roman"></textarea>
        <button onclick="convertToRoman()">Convert to Roman Urdu</button>
        <div id="roman-output" class="test-output"></div>
    </div>

    <script>
        // Load the translation script
        const script = document.createElement('script');
        script.src = 'frontend/static/js/translate-button.js';
        document.head.appendChild(script);

        // Function to test the urduToRoman function directly
        function convertToRoman() {
            const urduInput = document.getElementById('urdu-input').value;
            if (urduInput) {
                // Since we can't access the internal function directly, we'll create our own version for testing
                const urduToRomanMap = {
                    // Alphabets
                    'ا': 'a', 'آ': 'aa', 'أ': 'a', 'إ': 'i', 'ئ': 'e', 'ؤ': 'o', 'ب': 'b', 'پ': 'p', 'ت': 't',
                    'ٹ': 't', 'ث': 's', 'ج': 'j', 'چ': 'ch', 'ح': 'h', 'خ': 'kh', 'د': 'd', 'ڈ': 'd',
                    'ذ': 'z', 'ر': 'r', 'ڑ': 'r', 'ز': 'z', 'ژ': 'zh', 'س': 's', 'ش': 'sh', 'ص': 's',
                    'ض': 'z', 'ط': 't', 'ظ': 'z', 'ع': 'a', 'غ': 'gh', 'ف': 'f', 'ق': 'q', 'ک': 'k',
                    'گ': 'g', 'ل': 'l', 'م': 'm', 'ن': 'n', 'و': 'w', 'ؤ': 'w', 'ه': 'h', 'ھ': 'h',
                    'ء': 'e', 'ۃ': 't', 'ی': 'y', 'ے': 'e', 'ي': 'y', 'ى': 'y', 'ۓ': 'ye',

                    // Vowel signs/diacritics
                    'َ': 'a', 'ُ': 'u', 'ِ': 'i', 'ّ': '', 'ً': 'an', 'ٌ': 'un', 'ٍ': 'in', 'ْ': '', 'ٰ': 'aa', 'ٔ': 'e',

                    // Numbers
                    '۰': '0', '۱': '1', '۲': '2', '۳': '3', '۴': '4', '۵': '5', '۶': '6', '۷': '7', '۸': '8', '۹': '9',
                    '٠': '0', '١': '1', '٢': '2', '٣': '3', '٤': '4', '٥': '5', '٦': '6', '٧': '7', '٨': '8', '٩': '9',

                    // Punctuation
                    '،': ',', '۔': '.', '؟': '?', '؛': ';', '٪': '%', '٫': '.', '٬': ',', '﴿': '"', '﴾': '"',
                    '«': '"', '»': '"', '(': '(', ')': ')', '[': '[', ']': ']'
                };

                let romanText = urduInput;

                // Create a sorted array of keys by length (descending) to handle multi-character sequences first
                const sortedKeys = Object.keys(urduToRomanMap).sort((a, b) => b.length - a.length);

                // Replace each Urdu character with its Roman equivalent
                for (const urduChar of sortedKeys) {
                    const romanChar = urduToRomanMap[urduChar];
                    // Use global replacement for all instances
                    const regex = new RegExp(urduChar.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
                    romanText = romanText.replace(regex, romanChar);
                }

                // Handle common combined characters and ligatures
                romanText = romanText
                    // Common combinations
                    .replace(/ک/g, 'k')
                    .replace(/گ/g, 'g')
                    .replace(/چ/g, 'ch')
                    .replace(/ج/g, 'j')
                    .replace(/ض/g, 'z')
                    .replace(/ظ/g, 'z')
                    .replace(/ط/g, 't')
                    .replace(/ذ/g, 'z')
                    .replace(/ث/g, 's')
                    .replace(/ص/g, 's')
                    .replace(/ش/g, 'sh')
                    .replace(/ژ/g, 'zh')
                    .replace(/ح/g, 'h')
                    .replace(/خ/g, 'kh')
                    .replace(/ғ/g, 'gh')
                    .replace(/ڤ/g, 'p')
                    .replace(/چ/g, 'ch')
                    .replace(/ڙ/g, 'r')
                    .replace(/ڍ/g, 'd')
                    .replace(/ڀ/g, 'bh')
                    .replace(/ﷲ/g, 'Allah')
                    .replace(/ Muhammad /g, ' Muhammad ')
                    .replace(/ Peace /g, ' Peace ')
                    // Clean up multiple spaces
                    .replace(/\s+/g, ' ')
                    // Remove extra spaces around punctuation
                    .replace(/\s+([,.!?;:])/, '$1');

                document.getElementById('roman-output').innerHTML = '<strong>Converted Roman Urdu:</strong> ' + romanText;
            }
        }
    </script>
</body>
</html>